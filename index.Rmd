---
title: "Gov 50 Final Project"
author: Christy Zheng
description: How does sleep affect daily stress levels?
output:
  distill::distill_article:
    self_contained: false
---

# Introduction

In 2020, the American Psychiatric Association (APA) declared the nation was facing a mental health crisis. "We are facing a national mental health crisis that could yield serious health and social consequences for years to come," wrote the APA. Americans were facing increased levels of stress, worsened by several external factors, including the pandemic, conflict and uncertainty in the government, inflation, and unrest abroad. Stress levels have remained high in the past three years, posing a risk to both mental and physical health. In their 2022 annual "Stress in America" report, the APA published data revealing that 76% of participants had experienced at least one physical or mental symptom over the last month as a result of stress, while 72% experienced additional symptoms. 54% stated they fought with their loved ones because of stress and 27% of respondents said their stress impaired their ability to function most days. Given the significant stress Americans are experiencing and its devastating impact, I wanted to focus on factors that might reduce stress for my final project. I chose to study the impact of sleep (or lack thereof) on daily stress levels.

According to the Center for Disease Control (CDC), one-third of adults in the United States are getting less than the recommended amount of sleep. College students sleep an average of 6 to 6.9 hours, falling short of the 7-9 hours recommended by the Sleep Foundation. Sleep deprivation leads to and exacerbates numerous health issues, both mental and physical. Sleep and stress are very much connected---too much or not enough of one affects the other and vice versa. Sleep also impacts other health outcomes, such as the risk of diabetes and cardiovascular disease. This project examines the impact various amounts of sleep have on daily stress levels. I hypothesize that there is a relationship between sleep and stress. I predict that more sleep is associated with less daily stress, and vice versa. The null hypothesis is there is no relationship between sleep and stress.

# The Data

I used the "Lifestyle and Wellbeing Data" from Kaggle, created by Yvon Dalat. The dataset includes 15,972 survey responses collected between July 2015 and March 2021. While the specific geographic reach of respondents is not specified, it is described as a "global survey" and was available on a website (now defunct) that was open to everyone. The survey collected information on the respondent's age and gender before asking about several factors that might impact their well-being, such as their social network, personal achievements, and the number of fruits and vegetables they consume on a daily basis. Upon completion of the survey, respondents received their "work-life balance score" or "satisfaction score," which was generated by an algorithm. The work-life balance score is an indication of the respondent's well-being. Dalat published a book and created an app aimed at helping consumers live a happier life. The dataset appears to have been created to provide research for these endeavors, but his previous research was focused on how to improve the work-life balance score, rather than any interaction between the other factors.

### Preparing the Data and Data Visualization

```{r}
#Load Packages

library(tidyverse)
library(readr)
library(tinytex)

#Load dataset

wellbeing <- read_csv("data/Wellbeing_and_lifestyle_data_Kaggle.csv")

#Prepare data by making sure the variables are numbers

wellbeing$num_daily_stress = as.numeric(wellbeing$DAILY_STRESS)
wellbeing$num_sleep_hours = as.numeric(wellbeing$SLEEP_HOURS)

#Data visualization for daily stress levels
wellbeing |>
  ggplot(aes(num_daily_stress)) +
  geom_histogram(binwidth=1, center=1) +
  scale_x_continuous(breaks = seq(0,5)) +
  labs (title = "Distribution of Daily Stress Levels", 
        x = "Daily Stress Level (0-5)",
        y = "Count")
```

This research is cross-sectional and observational. I do not make any causal claims. The data for the dependent and independent variables was gathered from survey responses (I do not use the algorithm-generated work-life balance score in this report). The dependent variable is daily stress levels. Respondents were asked "How much stress do you typically experience every day?" and asked to rank it on a scale from 0 to 5. The average daily stress score was 2.79. The visualization of this variable revealed a fairly normal distribution for daily stress levels.

```{r}
#Data visualization for typical hours of sleep
wellbeing |>
  ggplot(aes(num_sleep_hours)) +
  geom_histogram(binwidth = 1, center = 1) +
  scale_x_continuous(breaks = seq(1, 10)) +
  labs(title = "Distribution of Typical Hours of Sleep",
       x = "Typical Hours of Sleep (1-10)",
       y = "Count")
```

The independent variable for this report is the respondents' typical hours of sleep. The original survey question was: "About how long do you typically sleep?" The answers ranged from 1 to 10, with an average of 7.04 hours per night. The average is close to the lower limit of the recommended amount of sleep for adults, which is seven to nine hours per night. The visualization of this variable shows a fairly normal distribution for typical hours of sleep. Adults of all ages responded to this survey, and it is unlikely that the data was drawn from a particularly sleep-deprived population, such as college students.

# Results

```{r}
#Binned scatterplot of the relationship between sleep and stress
grouped <- wellbeing |>
  select(num_daily_stress, num_sleep_hours) |>
  group_by(num_sleep_hours) |>
  summarize(mean_stress = mean(num_daily_stress, na.rm = TRUE)) |>
  as.data.frame()

ggplot(grouped, aes(x = num_sleep_hours, y = mean_stress)) +
  geom_point() + geom_smooth(method = "lm", se = FALSE) +
  scale_x_continuous(breaks = seq(1, 10)) + 
  labs(title = "Relationship Between Hours of Sleep and Mean Stress Level", 
       x = "Hours of Sleep", y = "Mean Daily Stress Level (0-5)") +
  theme_minimal()
```

This binned scatterplot summarizes the relationship between sleep and stress. Each dot represents the mean daily stress level for respondents who typically slept the corresponding number of hours. For example, survey respondents who reported typically sleeping 5 hours per night had a mean daily stress score of 3.22. The binned scatterplot and regression line indicate a negative relationship between sleep and stress that is strongly statistically significant. Fewer hours of sleep is correlated with higher daily stress levels.

```{r}
#Linear regression of sleep and stress
fit <- lm(num_daily_stress ~ num_sleep_hours, data = wellbeing)

modelsummary::modelsummary(fit,
                      statistic = c("s.e. = {std.error}",
                                         "p = {p.value}"),
                      coef_map = c(
                      "(Intercept)" = "Intercept",
                      "num_daily_stress" = "Daily Stress Experienced (0-5)", 
                      "num_sleep_hours" = "Typical Hours of Sleep"),
                      gof_map = c("nobs", "r.squared", "adj.r.squared"))
```

The first regression examines the bivariate relationship between hours of sleep and daily stress levels. The intercept is 4.053, which, theoretically, means that individuals who typically sleep zero hours would have a mean daily stress level of 4.053. This interpretation has little substantive value, because it is medically impossible for an individual to sleep zero hours per night and survive. The coefficient for typical hours of sleep is -0.179. This indicates that for each additional hour of sleep, daily stress levels decrease by an average of 0.179 points. The p value is less than 0.001, which means this result is statistically significant when alpha equals 0.05. I cannot interpret this relationship as causal because this is a cross-sectional, observational study. Additionally, the relationship between sleep and stress is often characterized as a cycle---increased stress leads to sleep deprivation and vice versa.

```{r}
#Multiple regression of sleep, stress, and other factors
mult.fit <-lm(num_daily_stress ~ num_sleep_hours + LOST_VACATION + CORE_CIRCLE+
                WEEKLY_MEDITATION + DAILY_STEPS + DAILY_SHOUTING + ACHIEVEMENT+
                TODO_COMPLETED, data = wellbeing)


var_labels <- c(
"(Intercept)" = "Intercept",
"num_sleep_hours" = "Typical Hours of Sleep",
"LOST_VACATION" = "Lost Vacation Days",
"CORE_CIRCLE" = "Number of Very Close Loved Ones",
"WEEKLY_MEDITATION" = "Hours of Meditation (Weekly)",
"DAILY_STEPS" = "Number of Daily Steps",
"DAILY_SHOUTING" = "Number of Times Shouting or Sulking Per Day",
"ACHIEVEMENT" = "Number of Remarkable Achievements",
"TODO_COMPLETED" = "Completeness of Weekly To-Do List"
)

modelsummary::modelsummary(mult.fit,
                           statistic = c("s.e. = {std.error}",
                                         "p = {p.value}"),
                           coef_map = var_labels,
                           gof_map = c("nobs", "r.squared", "adj.r.squared"))
```

To control for the presence of potential confounders, I performed a multivariate regression that measures the association between sleep, seven other variables, and stress. I chose lost vacation days (in a year), number of very close loved ones, hours of meditation per week, number of daily steps, number of times shouting or sulking per day, number of remarkable achievements, and the completeness of weekly to-do lists. The intercept for this regression is 3.759. This, theoretically, means that when all of these variables are zero---no lost vacation days, no close loved ones, no meditation, no steps, no shouting or sulking, no remarkable achievements, nothing complete on to-do lists, and no sleep---the average daily stress level is 3.759 out of 5. Again, this number has little substantive value, as it is impossible to sleep zero hours every night and survive. The coefficient for typical hours of sleep is -0.103. The magnitude is less now that we have removed some of the confounding variables, but it is still sizable. This means, holding all of the other variables in this regression constant, an additional hour of sleep is associated with a 0.103 reduction in daily stress levels. The p-value is less than 0.001, which means this result is significant when alpha equals 0.05. We cannot establish a causal relationship, because this is an observational, cross-sectional study and because of the aforementioned sleep-stress cycle. 

Besides sleep, nearly all of the other factors have statistically significant associations with stress. All of the variables, except for number of daily steps, have a p-value of less than 0.001, which means it is statistically significant when alpha equals 0.05. Perhaps most notably, the coefficient for number of times shouting or sulking per day is 0.131, which means, holding the other variables constant, an additional instance of shouting or sulking during the day is associated with an increase of 0.131 units for the daily stress level. This effect is slightly larger than the effect for sleep. Another interesting variable is lost vacation days. Holding all other variables constant, one additional lost vacation day per year is associated with a 0.052 unit increase in daily stress levels. This result is statistically significant when alpha equals 0.05. 

# Conclusion
This research supports my hypothesis that fewer hours of sleep is associated with higher stress levels, which was confirmed by the binned scatterplot, and bivariate and multivariate regressions. All three indicated a negative association, which suggests that individuals who typically get fewer hours of sleep experience higher daily stress levels. The multivariate regression, which controls for several potential counfounders, provides strong evidence for this relationship. This relationship is statistically significant at alpha = 0.05, as demonstrated by both the bivariate and multivariate regressions. The limitations for this research include the inability to establish a causal relationship, because the data gathered was from cross-sectional. Additionally, the data is self-reported, so there is potential recall bias. We also do not know the geographic reach of participants, which may be important to the analysis. In future studies I would perform a randomized experiment to establish causality. I would also consider a longer study, perhaps one that asks participants to track hours of sleep and daily stress levels for a month or longer. Additionally, while working with minors brings more stringent standards, I would also be interested in seeing how sleep impacts stress for high school students, another population that often suffers from both sleep deprivation and stress. These interventions may enhance the accuracy and applicability of the results. 

# Works Cited

Dalat, Yvon. Lifestyle and Wellbeing Data. Kaggle. 14 March 2021. <https://www.kaggle.com/datasets/ydalat/lifestyle-and-wellbeing-data/data>

More than a quarter of U. S. Adults say they're so stressed they can't function American Psychological Association. [Press release]. 19 October 2022. <https://www.apa.org/news/press/releases/2022/10/multiple-stressors-no-function>

“Sleep and Sleep Disorders.” Centers for Disease Control and Prevention, Centers for Disease Control and Prevention, 7 Sept. 2022, www.cdc.gov/sleep/index.html. 

"Stress in AmericaTM 2020: A National Mental Health Crisis." American Psychological Association, American Psychological Association, Oct. 2020, www.apa.org/news/press/releases/stress/2020/report-october.
