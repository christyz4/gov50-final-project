---
title: "Gov 50 Final Project"
author: Christy Zheng
description: How does sleep affect daily stress levels?
output:
  distill::distill_article:
    self_contained: false
---

# Introduction

In 2020, the American Psychiatric Association (APA) declared the nation was 
facing a mental health crisis. "We are facing a national mental health crisis 
that could yield serious health and social consequences for years to come," 
wrote the APA. Americans were facing increased levels of stress, worsened by 
several external factors, including the pandemic, conflict and uncertainty in 
the government, inflation, and unrest abroad. Stress levels have remained high 
in the past three years, posing a risk to both mental and physical health. In 
their 2022 annual "Stress in America" report, the APA published data revealing 
that 76% of participants had experienced at least one physical or mental symptom
over the last month as a result of stress. 72% experienced additional symptoms. 
54% stated they fought with their loved ones because of stress. 27% of 
respondents said their stress impaired their ability to function most days. 
Given the significant stress Americans are experiencing and its devastating 
impact, I wanted to focus on factors that might reduce stress for my final 
project. I chose to study the impact of sleep (or lack thereof) on daily stress 
levels.

According to the Center for Disease Control (CDC), one-third of adults in the 
United States are getting less than the recommended amount of sleep. College 
students sleep an average of 6 to 6.9 hours, falling short of the 7-9 hours 
recommended by the Sleep Foundation. Sleep deprivation leads to and exacerbates 
numerous health issues, both mental and physical. Sleep and stress are very much
connectedâ€”too much or not enough of one affects the other and vice versa. Sleep 
also impacts other health outcomes, such as the risk of diabetes and 
cardiovascular disease. This project examines the impact various amounts of 
sleep have on daily stress levels. I hypothesize that there is a relationship 
between sleep and stress. I predict that more sleep is associated with less 
daily stress, and vice versa. The null hypothesis is there is no relationship 
between sleep and stress. 

# The Data

### Loading the Data

```{r}
#Load Packages

library(tidyverse)
library(readr)
library(tinytex)

#Load dataset

wellbeing <- read_csv("data/Wellbeing_and_lifestyle_data_Kaggle.csv")

#Prepare data by making sure the variables are numbers

wellbeing$num_daily_stress = as.numeric(wellbeing$DAILY_STRESS)
wellbeing$num_sleep_hours = as.numeric(wellbeing$SLEEP_HOURS)

#Data visualization for the main outcome of interest
wellbeing |>
  ggplot(aes(num_daily_stress)) +
  geom_histogram(binwidth=1, center=1) +
  scale_x_continuous(breaks = seq(0,5)) +
  labs (title = "Distribution of Daily Stress Scores", 
        x = "Daily Stress Score (0-5)",
        y = "Count")

wellbeing |>
  ggplot(aes(num_sleep_hours)) +
  geom_histogram(binwidth = 1, center = 1) +
  scale_x_continuous(breaks = seq(1, 10)) +
  labs(title = "Distribution of Typical Hours of Sleep",
       x = "Typical Hours of Sleep (1-10)",
       y = "Count")

```

# Results

```{r}
#Binned Scatterplot
grouped <- wellbeing |>
  select(num_daily_stress, num_sleep_hours) |>
  group_by(num_sleep_hours) |>
  summarize(mean_stress = mean(num_daily_stress, na.rm = TRUE)) |>
  as.data.frame()

ggplot(grouped, aes(x = num_sleep_hours, y = mean_stress)) +
  geom_point() + geom_smooth(method = "lm", se = FALSE) +
  labs(title = "Relationship Between Hours of Sleep and Mean Stress Score", 
       x = "Hours of Sleep", y = "Mean Stress Score (0-5)")

#Linear Regression
fit <- lm(num_daily_stress ~ num_sleep_hours, data = wellbeing)

modelsummary::modelsummary(fit,
                      statistic = c("s.e. = {std.error}",
                                         "p = {p.value}"),
                      coef_map = c(
                      "num_daily_stress" = "Daily Stress Experienced (0-5)", 
                      "num_sleep_hours" = "Typical Hours of Sleep"),
                      gof_map = c("nobs", "r.squared", "adj.r.squared"))

#Multiple Regression
mult.fit <-lm(num_daily_stress ~ num_sleep_hours + LOST_VACATION + 
                WEEKLY_MEDITATION + DAILY_STEPS + DAILY_SHOUTING + 
                TODO_COMPLETED, data = wellbeing)


var_labels <- c(
"(Intercept)" = "Intercept",
"num_sleep_hours" = "Typical Hours of Sleep",
"LOST_VACATION" = "Lost Vacation Days",
"WEEKLY_MEDITATION" = "Hours of Meditation (Weekly)",
"DAILY_STEPS" = "Number of Daily Steps",
"DAILY_SHOUTING" = "Number of Times Shouting Per Day",
"TODO_COMPLETED" = "Number of Tasks Completed"
)

modelsummary::modelsummary(mult.fit,
                           statistic = c("s.e. = {std.error}",
                                         "p = {p.value}"),
                           coef_map = var_labels,
                           gof_map = c("nobs", "r.squared", "adj.r.squared"))
```
